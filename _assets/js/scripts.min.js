!function(){function t(){e(),i()}function e(){body.removeClass("nojs")}function i(){body.hasClass("wishlist")&&body.hasClass("view")&&setTimeout(function(){masContainer=$(".wishes"),masContainer.masonry({columnWidth:".wishes li:nth-child(2)",itemSelector:".wishes li"})},50)}function n(t){return t.hasClass("active")?!1:(id=t.attr("id"),t.siblings("li").removeClass("active"),t.addClass("active"),wishlists=$(".wishlists"),wishlistsAll=wishlists.find(".public, .private"),wishlistsAll.fadeOut(200),void setTimeout(function(){wishlists.find("li."+id).fadeIn(200)},200))}function a(){aside=$("aside"),main=$(".main"),aside.toggleClass("show"),main.toggleClass("withAside")}function o(t){tag=t.prop("tagName").toLowerCase(),type=t.prop("type").toLowerCase(),"input"==tag?(s(t,tag),"file"==type&&(r(t),l(t))):"select"==tag?s(t,tag):"textarea"==tag&&s(t,tag)}function s(t){t.attr("required")&&("input"==tag?"file"==type?t.val().length||t.siblings("img").length||(name=t.attr("id"),errors[name]=tag):t.val().length||(name=t.attr("id"),errors[name]=tag):"select"==tag?(bar=t.find("option:selected").attr("value"),bar||(name=t.attr("id"),errors[name]=tag)):"textarea"==tag&&(t.val().length||(name=t.attr("id"),errors[name]=tag)))}function r(t){ext=t.val().substring(t.val().lastIndexOf(".")+1),t.val().length&&"jpg"!=ext&&"jpeg"!=ext&&"png"!=ext&&"gif"!=ext&&(name="image",errors[name]=tag)}function l(t){file=t[0].files[0],file&&(file.size>1e6||t.fileSize>1e6)&&(name="image",errors[name]=tag)}function c(t){$(".modal."+t).fadeIn(200).addClass("show"),h=!0}function f(t){$(".modal."+t).fadeOut(200,function(){$(this).removeClass("show"),$(this).find("label, input, select, textarea, radio").removeClass("error")}),h=!1}function u(t){if(t.files&&t.files[0]){var e=new FileReader;e.onload=function(t){$("form .file_cont img").attr("src",t.target.result)},e.readAsDataURL(t.files[0])}}function d(t,e){e.find(".title").text("Following"),followData={who2:t}}function m(){$.ajax({url:"/_include/logout.php",type:"POST",data:"logout=yes",success:function(){window.location="/"},error:function(){return!1}})}body=$("body"),t(),$(".menu li").on("click",function(){n($(this))}),$("#showAside").on("click",function(){return a(),!1}),form=$("form"),form.submit(function(){return fields=$(this).find("input, textarea, select, radio"),errors={},form.find("label, input, select, textarea").removeClass("error"),fields.each(function(){o($(this))}),$.each(errors,function(t,e){form.find("label[for="+t+"]").addClass("error"),form.find(e+"[id="+t+"]").addClass("error")}),$.isEmptyObject(errors)?void 0:!1});var g,h=!1;$(".button.edit").on("click",function(){return g=$(this).data("target"),c(g),!1}),$("button.close").on("click",function(){f(g)}),$(".modal .container").on("click",function(t){t.stopPropagation()}),$(".modal").on("click",function(){f(g)}),$(document).keydown(function(t){27==t.keyCode&&h&&(f(g),t.preventDefault())}),$("#image").change(function(){u(this)}),$(".follow a").on("click",function(){return button=$(this),who2=button.data("who2"),d(who2,button),!1}),$("#logout").on("click",function(){return m(),!1})}();